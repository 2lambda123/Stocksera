{% extends "format.html" %}
{% load static %}
{% load filter %}

{% block title %}StocksEra | Reddit ETF{% endblock %}

{% block additional_script %}
<link rel="stylesheet" href="{% static 'style/reddit_etf.css' %}">
<script src="{% static 'javascript/reddit_etf.js' %}"></script>
{% endblock %}

{% block onload_properties%}restore_dark_mode();{% endblock %}

{% block main_nav %}
    <div class="ticker-wrap">
        <div class="ticker">
            {% for name in popular_name_list|length|get_range %}
            <div class="ticker_item">
                <b>{{popular_name_list|index:name}} &#183 {{price_list|index:name|index:0}} <span> {{price_list|index:name|index:1}} ({{price_list|index:name|index:2}}%) </span></b>
            </div>
            {% endfor %}
        </div>
    </div>
{% endblock %}

{% block main_content %} 
    <div id="instructions">
        Reddit ETF is based on the trending stocks on WSB. If a new ticker enters the Top 10 mentioned ticker list before the market opens, it will be bought at 9.30AM. Any ticker that falls out of the Top 10 list will be sold.
    </div> 
    <div style="display: flex;">
        <div class="performance_individual">
            <p style="margin-bottom: 0;font-size: small;">Today's Performance:</p>
            <span style="font-size: xx-large">$120000.54</span>
            <div class="performance_change">
                <span>+$10000.45</span>
                <span>+5.50%</span>
            </div>
        </div>
        <div class="performance_individual">
            <p style="margin-bottom: 0;font-size: small;">Last 1 Week's Performance:</p>
            <span style="font-size: xxx-large">$120000</span>
            <div class="performance_change">
                <span>+$10000.45</span>
                <span>+5.50%</span>
            </div>
        </div>
        <div class="performance_individual">
            <p style="margin-bottom: 0;font-size: small;">Last 1 Week's Performance:</p>
            <span style="font-size: xxx-large">$120000</span>
            <div class="performance_change">
                <span>+$10000.45</span>
                <span>+5.50%</span>
            </div>
        </div>
    </div>
    <p class="table_title">Current Trade</p>
    <table id="current_trade">
        <thead>
            <tr>
                <th>Ticker</th>
                <th>Open Date</th>
                <th>Open Price</th>
                <th>Num Shares</th>
                <th>Close Date</th>
                <th>Close Price</th>
                <th>Performance</th>
                <th>% Perf</th>
            </tr>
        </thead>
        <tbody>
            {% for ticker in etf %}
                <tr>
                    <td><a href="https://finance.yahoo.com/quote/{{ticker.0}}" target="_blank">{{ticker.0}}</a></td>
                    <td>{{ticker.1}}</td>
                    <td>{{ticker.2}}</td>
                    <td>{{ticker.3}}</td>
                    <td>{{ticker.4}}</td>
                    <td>{{ticker.5}}</td>
                    <td>{{ticker.6}}</td>
                    <td>{{ticker.7}}</td>
                </tr>
            {% endfor %}
        </tbody>
    </table>

    <p class="table_title">Previous Trades</p>
    <table id="previous_trades">
        <thead>
            <tr>
                <th onclick="sortTable(0)" class="th-sort-desc">Ticker</th>
                <th onclick="sortTable(1)" class="th-sort-desc">Open Date</th>
                <th onclick="sortTable(2)" class="th-sort-desc">Open Price</th>
                <th onclick="sortTable(3)" class="th-sort-desc">Close Date</th>
                <th onclick="sortTable(4)" class="th-sort-desc">Close Price</th>
                <th onclick="sortTable(5)" class="th-sort-desc">Performance</th>
            </tr>
        </thead>
        <tbody>

            <tr>
                <td><a href="https://finance.yahoo.com/quote/{{ticker.0}}" target="_blank">$GME</a></td>
                <td>{{ticker.2}}</td>
                <td>{{ticker.3}}</td>
                <td>{{ticker.4}}</td>
                <td>{{ticker.8}}</td>
                <td>{{ticker.11}}</td>
            </tr>
        </tbody>
    </table>
{% endblock %}